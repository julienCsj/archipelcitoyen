#{extends 'backoffice/basePageBackoffice.html' /}

<!-- Content Header (slide header) -->
<section class="content-header">
    <h1>
        Slider
        <small></small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="@{backoffice.Dashboard.index()}"><i class="fa fa-dashboard"></i>L'archipel Citoyen</a></li>
        <li class="active"><a href="@{backoffice.Sliders.index()}"><i class="fa fa-file"></i>Gestion des slides de la page d'accueil</a></li>
    </ol>
</section>

<!-- Main content -->
<section class="content">


    <div class="row">
        <div class="col-xs-12">
            <div class="box">
                <div class="box-header">
                    <h3 class="box-title">Liste des slides éditables du site</h3>
                    <div class="box-tools pull-right">
                        <a class="btn btn-success btn-sm" href="@{backoffice.Sliders.ajouter}"><i class="fa fa-plus"></i>&nbsp;&nbsp;Ajouter une slide</a>
                    </div>
                </div>
                <div class="box-body no-padding">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                               <th>Image</th>
                               <th>Texte</th>
                               <th>Bouton</th>
                               <th>Actions</th>
                            </tr>
                        </thead>
                        </thead>
                        <tbody>
                        #{list items:slides, as:'slide'}
                            <tr>
                                <td><img src="${slide.urlImage}" style="height:200px;"></td>
                                <td>
                                    ${slide.titre}
                                    #{if slide.sousTitre}<br><small>${slide.sousTitre}</small>#{/if}
                                </td>
                                <td>
                                    #{if slide.texteBouton}
                                        Texte = ${slide.texteBouton}<br>
                                        Lien = ${slide.urlBouton}
                                    #{/if}
                                    #{else}Pas de bouton#{/else}
                                </td>
                                <td><a class="btn btn-xs btn-info" href="@{backoffice.Sliders.editer(slide.id)}"><i class="fa fa-pencil"></i></a> <a class="btn btn-xs btn-danger" href="@{backoffice.Sliders.supprimerSlide(slide.id)}"><i class="fa fa-trash"></i></a></td>
                            </tr>
                        #{/list}
                        #{else}
                            <tr><td colspan="4" class="text-center"><span class="text-muted">Aucune slide n'est éditable</span></td></tr>
                        #{/else}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>